<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Memory Game</title>
  <link rel="stylesheet" href="style.css">

  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    nav.horizontal {
      width: 100%;
      background: #111;
      padding: 5px 0;
      display: flex;
      justify-content: center;
    }

    nav.horizontal .menu-items a {
      color: #0f0;
      margin: 0 8px;
      text-decoration: none;
      font-weight: bold;
      font-size: 14px;
    }

    nav.horizontal .menu-items a.active {
      text-decoration: underline;
    }

    #memory-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 30px;
    }

    #memory-grid {
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      gap: 10px;
      max-width: 350px;
    }

    .card {
      position: relative;
      width: 100%;
      padding-top: 100%;
      cursor: pointer;
      perspective: 600px;
    }

    .card-inner {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      transition: transform 0.5s;
      transform-style: preserve-3d;
    }

    .card.flipped .card-inner {
      transform: rotateY(180deg);
    }

    .card-front, .card-back {
      position: absolute;
      width: 100%; height: 100%;
      backface-visibility: hidden;
      border-radius: 8px;
    }

    .card-front {
      background: #ccc;
    }

    .card-back {
      transform: rotateY(180deg);
      background-size: cover;
      background-position: center;
      border: 2px solid #0f0;
    }

    .controls {
      display: flex;
      gap: 10px;
      margin-top: 10px;
      flex-wrap: wrap;
      justify-content: center;
    }

    button {
      padding: 6px 12px;
      font-size: 14px;
      cursor: pointer;
      border-radius: 6px;
      border: none;
      background: #0f0;
      color: #000;
      font-weight: bold;
    }

    button:hover {
      background: #3f3;
    }
  </style>
</head>

<body>

  <!-- MENU HORIZONTAL -->
  <nav class="horizontal">
    <div class="menu-items">
      <a href="index.html">Accueil</a>
      <a href="equipes.html">Équipes</a>
      <a href="soiree.html" class="active">La soirée</a>
      <a href="resultat.html">Résultats</a>
    </div>
  </nav>

  <!-- MEMORY GAME -->
  <div id="memory-container">
    <div id="memory-grid"></div>
    <div class="controls">
      <button id="memoryStartBtn">Start</button>
      <button id="memoryResetBtn">Reset</button>
    </div>
  </div>

  <script>
    const memoryGrid = document.getElementById("memory-grid");

    const totalPairs = 19; // 19 paires
    let flippedCards = [];
    let matched = 0;

    // Liste de tes images (19 images différentes)
    const images = [
      "image/coachella.webp",
      "image/ciel.png",
      "image/ChatGPT.png",
      "image/emma.PNG",
      "image/fil.jpg",
      "image/hellfest.jpg",
      "image/img7.jpg",
      "image/img8.jpg",
      "image/img9.jpg",
      "image/img10.jpg",
      "image/img11.jpg",
      "image/img12.jpg",
      "image/img13.jpg",
      "image/img14.jpg",
      "image/img15.jpg",
      "image/img16.jpg",
      "image/img17.jpg",
      "image/img18.jpg",
      "image/img19.jpg"
    ];

    // Générer le deck et mélanger
    function createDeck() {
      const deck = [...images, ...images]; // 2 fois chaque image
      deck.sort(() => Math.random() - 0.5);
      return deck;
    }

    // Créer la grille
    function setupGrid() {
      memoryGrid.innerHTML = '';
      const deck = createDeck();

      deck.forEach(src => {
        const card = document.createElement('div');
        card.classList.add('card');

        const inner = document.createElement('div');
        inner.classList.add('card-inner');

        const front = document.createElement('div');
        front.classList.add('card-front');

        const back = document.createElement('div');
        back.classList.add('card-back');
        back.style.backgroundImage = `url(${src})`;

        inner.appendChild(front);
        inner.appendChild(back);
        card.appendChild(inner);

        card.addEventListener('click', () => flipCard(card, src));
        memoryGrid.appendChild(card);
      });
    }

    // Retourner une carte
    function flipCard(card, src) {
      if (flippedCards.length < 2 && !card.classList.contains('flipped')) {
        card.classList.add('flipped');
        flippedCards.push({card, src});

        if (flippedCards.length === 2) {
          checkMatch();
        }
      }
    }

    // Vérifier correspondance
    function checkMatch() {
      const [first, second] = flippedCards;

      if (first.src === second.src) {
        matched++;
        flippedCards = [];

        if (matched === totalPairs) {
          setTimeout(() => alert('Bravo ! Vous avez trouvé toutes les paires !'), 200);
        }
      } else {
        setTimeout(() => {
          first.card.classList.remove('flipped');
          second.card.classList.remove('flipped');
          flippedCards = [];
        }, 800);
      }
    }

    // START / RESET
    document.getElementById("memoryStartBtn").addEventListener("click", () => {
      matched = 0;
      setupGrid();
    });

    document.getElementById("memoryResetBtn").addEventListener("click", () => {
      matched = 0;
      setupGrid();
    });

    // AUTO START AU CHARGEMENT
    setupGrid();
  </script>
</body>
</html>
